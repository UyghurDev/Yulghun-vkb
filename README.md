# Yulghun-vkb
Code Mirror of Yulghun online input method

/* Author:  Muhammad Abdulla (muhammad@yulghun.com)
 * Version: 1.2 (Feb. 7, 2009)
 * License: GPL
 */

يۇلغۇن تور يۈزىدا ئۇيغۇرچە كىرگۈزۈش دېتالى JavaScript تا يېزىلغان، تور بەتلەردە ئۇيغۇرچە كىرگۈزۈش ئۈچۈن ئىشلىتىلىدىغان پروگرامما. يېڭى تىپتىكى تور كۆرگۈچلەرنىڭ چىقىشىغا ئەگىشىپ ھەل قىلىشقا تېگىشلىك بىر قىسىم مەسىلىلەر كۆرۈلگەنلىگى ئۈچۈن بۇ دېتالغا ئۆزگەرتىش كىرگۈزۈلۈپ، 2009-يىلى 2-ئاينىڭ 7-كۈنى 1.2-نۇسقىغا كۆتۈرۈلدى. تەپسىلاتى تۆۋەندىكىدەك. 
ئۆزگەرتىش كىرگۈزۈشتىكى مەقسەت

ئەسلىدىكى نۇسقىدا ئۇيغۇرچە خەت كىرگۈزۈش جەھەتتە ئاساسلىقى Internet Explorer ۋە Mozilla/Firefox تور كۆرگۈچلىرى ئاساس قىلىنغان بولۇپ، Safari, Google Chrome قاتارلىق يېڭى تىپتىكى تور كۆرگۈچلەرگە بولغان قوللىشى يوق، ياكى تۆۋەن. تىز كونۇپكا ئىشلىتىش جەھەتتە ctrl كونۇپكىسى بىلەن بىرلەشكەن بېرىكمە كونۇپكىلارنىڭ كىرگۈزۈش شەكلىنى ئالماشتۇرۇش ۋە ياكى باشقا ئىقتىدارلارغا قوللىنىلغان ctrl-k قاتارلىق بېرىكمە كونۇپكىلار Google Chrome, IE8 قاتارلىق تور كۆرگۈچلەردە تور كۆرگۈچلەر تەرىپىدىن ئىشلىتىپ ئېلىنغانلىقى ۋە كۆپىنچە تور كۆرگۈچلەردە تور بەتتىكى سۈرەت ۋە باشقا ئۈن-سىن ھۆججەتلىرىنى چۈشۈرۈش ئاستا بولغان ئەھۋال ئاستىدا ئۇيغۇرچە كىرگۈزۈش ئۈچۈن بەت تولۇق ئېچىلغىچە ساقلاش زورۈر بولغانلىقى ئۈچۈن ئىشلەتكۈچىلەر ئوڭايسىزلىق ئېلىپ كىلىدىغان ئەھۋاللار كۆرۈلدى. بۇ قېتىمقى ئۆزگەرتىش بۇ مەسىلىلەرنى ھەل قىلىشنى مەقسەت قىلىدۇ.
ئۆزگەرتىشلەر

يۇقىرىدا بايان قىلىنغان مەسىلىلەرنى تۈزۈتۈش ئۈچۈن تۆۋەندىكى ئۆزگەرتىشلەر كىرگۈزۈلدى.
ئۇيغۇرچە خەت كىرگۈزۈش ئىقتىدارى Internet Explorer, Mozilla/Firefox, Maxthon ۋە Opera قاتارلىق تور كۆرگۈچلەردىن باشقا Safari, Google Chrome, Konqueror ۋە باشقا كۆپلىگەن تور كۆرگۈچلەرنىڭ نۆۋەتتىكى ئەڭ يېڭى نەشىرىگىچە قوللايدىغان قىلىپ كېڭەيتىلدى. بۇلار Windows, Linux ۋە Mac OS قاتارلىق ھەرخىل مەشخۇلات سىستېمىلىرىدا قوللىنىلىدۇ. شۇنىڭ بىلەن بىرگە خەت كىرگۈزۈش ھالىتى ئۇيغۇرچە بولغاندا ئىنگىلىزچىدىن باشقا كونۇپكا تاختىسى ئىشلەتكەندە خەت نورمال كىرگۈزۈلمەيدىغان تېخنىكىلىق خاتالىق تۈزۈتۈلدى.
تور بەتلەردە ئاستا يۈكلىنىدىغان سۈرەت ۋە باشقا تىپتىكى ئۈن-سىن ھۆججەتلىرى بولغان، بەت تولۇق ئوقۇلمىغان ئەھۋال ئاستىدىمۇ تور بەتنىڭ تېكىست قىسىمى ئوقۇلىشى بىلەنلا بەلگىلەنگەن ئۇيغۇرچە كىرگۈزۈش رايۇنلىرىدا نورمال ئۇيغۇرچە كىرگۈزۈش ئەمەلگە ئاشۇرۇلدى. مىسال ئۈچۈن تۆۋەندىكى بەتكە قاراڭ: 
http://www.yulghun.com/test/bedit.html

خەت كىرگۈزۈش ھالىتىنى ئۆزگەرتىش ئۈچۈن ئىشلىتىلگەن ctrl+k كونۇپكىسى بېسىلغاندا Google Chrome, Maxthon ۋە Internet Explorer 8 قاتارلىق تور كۆرگۈچلەردە تور كۆرگۈچ تەرىپىدىن ئىشلىتىلىش مەسىلىسى ھەل قىلىندى. تېكىست رايۇنىنىڭ يۆنىلىشىنى ئۆزگەرتىش، لاتىن يېزىقىنى ئۆزگەرتىش، كونا ئەلكاتىپ ئۆلچىمىدە يېزىلغان تېكىستلەرنى ئۆزگەرتىش ئۈچۈن ئايرىم-ئايرىم ھالدا قوللىنىلغان ctrl+t ۋە ctrl+u ۋە ctrl+j كونۇپكىلىرىنىڭمۇ كۆپ خىل تور كۆرگۈچلەردە نورمال ئىشلىشى ئەمەلگە ئاشۇرۇلدى.
لاتىنچە يېزىقتىن ئايلاندۇرغاندا تور ئادرىسلىرى ۋە ئېلخەت ئادرىسلىرىنى ئاپتۇماتىك ھالدا ئۆزگەرتمەي ساقلاپ قېلىش ئىقتىدارى ياخشىلاندى.
ئۇيغۇرچە كىرگۈزۈش، ئايلاندۇرۇش ۋە باشقا تىپتىكى قوراللارنى ياسىغۇچىلار ئوڭايلىق يارىتىپ بېرىش ئۈچۈن قىستۇرما يېزىش ئىقتىدارى تەمىنلەندى. (تەپسىلاتىنى تۆۋەندە كۆرۈڭ).
پروگرامما قورۇلمىسى يېڭىدىن رەتلىنىپ پروگرامما چوڭلۇقى ئەسلىدىكى 23KB ئەتراپىدىن 14.6KB ئەتراپىغا چۈشۈرۈلدى.
چۈشۈرۈش

پروگراممىنىڭ JavaScript كودى تۆۋەندىكى ئادرىستا: 
http://www.yulghun.com/scripts/bedit.js

HTML شەكلى: 
http://www.yulghun.com/scripts/bedit.js.html

تور بېكەت باشقۇرغۇچى ۋە تور بەت ئىشلىگۈچىلەرگە

تور بەتلەرگە ئۇيغۇرچە كىرگۈزۈش ئورۇنلىرىنى بىلىك كۇلۇبىدىكى http://bbs.bilik.cn/viewthread.php?tid=226 دا چۈشەندۈرۈلگەن ئۇسۇل بويىچە attachAll, bedit_allow ۋە bedit_deny قاتارلىق مىقدارلارنى بەلگىلەش ئارقىلىق بەلگىلىگەن بولسىڭىز پەقەت يۇقىرىقى ئادرىستىكى bedit.js پروگراممىسىنى چۈشۈرۈپ ئەسلىدىكىسىنى يېڭىلىسىڭىزلا بولىدۇ. ئەگەر HTML كودى ئىچىگە onKeyPress دېگەن ئىنكاس فونكىتىسىيسىنى قېتىش ئارقىلىق بەلگىلىگەن بولسىڭىز، onKeyPress قوشۇلغان بارلىق ئورۇنلارغا onKeyDown ئىنكاس فونكىتىسيسىنى قوشىشىڭىز كېرەك. مەسىلەن تۆۋەندىكىدەك يېزىلغان بولسا:
onKeyPress="return addchar(this, event);"
تۆۋەندىكىدەك ئۆزگەرتىلىشى كېرەك:
onKeyPress="return addchar(this, event);" onKeyDown="return proc_kd(event);"
ئەمىلىي مىسال ئۈچۈن بۇ ئۇلىنىشقا قاراڭ: 
http://tarim.yulghun.com/src/utext/bedit.html
ئىشلەتكۈچىلەرگە

پروگرامما رەتلەش جەريانىدا تۆۋەندىكىدەك بىر قىسىم ئۆزگەرتىشلەر كىرگۈزۈلدى. ئىشلەتكۈچىلەرنىڭ ۋاقىپ بولىشىنى سورايمەن:
لاتىن يېزىقى ۋە كونا ئەلكاتىپ نۇسقىسىدىكى يېزىقلارنى ئۆزگەرتىش ئۈچۈن ئىلگىرى تېكىستنى كۆچۈرۈپ ئالغاندىن كىيىن ctrl+u ياكى ctrl+j كونۇپكىلىرى بىلەن ئۆزگەرتىپ چاپلاش ئېلىپ بېرىلاتتى. ھەم بۇ خىل ئۇسۇل پەقەت Internet Explorer دىلا ئىشلەيتى. ھازىر تېكىست رايۇنىدىكى تېكىستنى تاللاپ ctrl+u ياكى ctrl+j نى بېسىش ئارقىلىق ئىشلەيدىغان قىلىپ ئۆزگەرتىلدى. بۇ Internet Explorer ۋە باشقا تور كۆرگۈچلەردىمۇ ئىشلەيدۇ.
چوڭ تىرناقلار، يەنى «{» ۋە «}» بەلگىلىرى، ئارقىلىق ئۇيغۇرچىدىكى قوش تىرناقلارنى ('«' ۋە '»' بەلگىلىرى) كىرگۈزۈش، ۋە چوڭ كىچىك بەلگىلىرى، يەنى « < » ۋە « > »، ئارقىلىق ئۇيغۇرچىدىكى تاق تىرناقلارنى ('‹' ۋە '›' بەلگىلىرى) كىرگۈزۈش ئىقتىدارى قوشۇلدى. ئەسلىدىكى « " » بەلگىسى ئارقىلىق قوش كىرگۈزۈش داۋاملىق كۈچكە ئېگە.
پروگرامما تۈزگۈچىلەرگە

ئۇيغۇرچە كىرگۈزۈش، ئايلاندۇرۇش ۋە باشقا تىپتىكى قوراللارنى ياسىغۇچىلار ئوڭايلىق يارىتىپ بېرىش ئۈچۈن پروگرامما تۈزگۈچىلەر ئۆزى بەلگىلىگەن ctrl بېرىكمە كونۇپكىلىرىنى بىر تەرەپ قىلىدىغان فونكىتىسىيەلەرنى قىستۇرما قىلىپ تەمىنلەش مېخانىزىمى قوشۇلدى. مەسىلەن، ctrl+y كونۇپكىسىنى ئىشلىتىپ مەلۇم بىر مەشخۇلات ئېلىپ بېرىلماقچى بولسا پەقەت تۆۋەندىكى يوسۇندا بىر فونكىتسىيە تەمىنلەنسە bedit.js بۇ فونكىتسىيەنى ctrl+y بېرىكمە كونۇپكىسى بېسىلغاندا چاقىرىدۇ:
function proc_kd_ctrl_y(source, event) {
   // ...
}
يەنى proc_kd_ctrl_ نىڭ ئاخىرىغا ctrl كونۇپكىسى بىلەن بىر تەرەپ قىلماقچى بولغان ھەرپنى قوشۇپ فونكىتىسيە ئىسمى قىلىنسا شۇ فونكىتسىيە شۇ بېرىكمە كونۇپكا بېسىلغاندا چاقىرىلىدۇ. مەسىلەن bedit.js تىكى ctrl+k كونۇپكىسىنى بىر تەرەپ قىلىدىغان فونكىتسىيە تۆۋەندىكىدەك يېزىلغان:
function proc_kd_ctrl_k ( source, ev )
{
  imode = 1 - imode;
  return true; 
}
يېزىلغان فونكىتسىيە چوقۇم bedit.js نىڭ ئىچىگە يېزىلىشىنىڭ ھاجىتى يوق. پەقەت bedit.js كىرگۈزۈلگەن بەتكە ياكى شۇ بەتكە قوشۇلغان باشقا JavaScript پروگراممىلىرىغا يېزىلسا بولىدۇ. مەسىلەن يۇلغۇن توردا ئىملا تەكشۈرۈش (http://www.yulghun.com/imla) بېتىدە ctrl+g بىلەن ئىملا تەكشۈرۈش ئىقتىدارىنى قوزغۇتۇش ئۈچۈن proc_kd_ctrl_g فونكىتسىيسى شۇ بەتتىكى imla.js ھۆججىتىدە بەلگىلەنگەن. بۇ فونكىتسىيىنى چاقىرىش ۋە بېرىكمە كونۇپكىنى تور كۆرگۈچتە بىر تەرەپ قىلىش ئىقتىدارى bedit.js ئارقىلىق تەمىنلەنگەن. تەپسىلاتى ئۈچۈن يۇقىرىقى ئۇلىنىشتا بېرىلگەن bedit.js ھۆججىتىگە قاراڭ.


كۆپچىلىكنىڭ بۇ پروگراممىنى ياخشىلاش ئۈچۈن بەرگەن پىكىرلىرىگە كۆپ رەھمەت ئېيتىمەن ۋە داۋاملىق تەكلىپ-پىكىرلىرىنى ئايىماسلىقىنى ئۈمىد قىلىمەن.
